---
description: TCA usage rules.
globs:
    - "Features/**"
---
- Each screen/card has: State, Action, Reducer, View.
- Use Reducer macros (@Reducer, @ObservableState) where possible.
- Use EffectTask for async work. Cancel by ID for in-flight requests.
- Use scoped stores for child features. Avoid passing stores through views unless needed.
- Add Reducer tests per feature. Cover happy and error paths.
- For navigation, use StackState/StackAction or enum routes. Test it.
- Use dependency clients (e.g., authClient, tasksClient) via @Dependency.